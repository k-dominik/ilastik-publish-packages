shared-config:
  python: '3.6'
  numpy: '1.13'
  repo-cache-dir: ./repo-cache # Relative to this yaml file's directory.
  source-channels:
    - flyem-forge
    - conda-forge
  destination-channel: flyem-forge

recipe-specs:

  ##
  ## This list will be processed in the order shown here,
  ## so keep it in sorted order, starting with the 'bottom'
  ## of the dependency stack and proceeding to the 'top' of the stack.
  ## That is, packages at the end of the list may depend on packages
  ## from the beginning of the list, but not vice-versa.
  ##

  - name: jsoncpp
    recipe-repo: https://github.com/stuarteberg/jsoncpp-feedstock
    tag: v1.6.2
    recipe-subdir: recipe

  - name: jansson
    recipe-repo: https://github.com/janelia-flyem/flyem-build-conda
    tag: master
    recipe-subdir: jansson

  - name: lz4
    recipe-repo: https://github.com/janelia-flyem/flyem-build-conda
    tag: master
    recipe-subdir: lz4

  - name: python-lz4
    recipe-repo: https://github.com/janelia-flyem/flyem-build-conda
    tag: master
    recipe-subdir: python-lz4

  - name: quilted
    recipe-repo: https://github.com/stuarteberg/quilted
    tag: master
    recipe-subdir: conda-recipe

  - name: logcollector
    recipe-repo: https://github.com/stuarteberg/logcollector
    tag: master
    recipe-subdir: conda-recipe

  - name: dvid-resource-manager
    recipe-repo: https://github.com/janelia-flyem/DVIDResourceManager
    tag: master
    recipe-subdir: conda-recipe

  - name: numpy-allocation-tracking
    recipe-repo: https://github.com/stuarteberg/numpy-allocation-tracking
    tag: master
    recipe-subdir: conda-recipe

  - name: libdvid-cpp
    recipe-repo: https://github.com/janelia-flyem/libdvid-cpp
    tag: master
    recipe-subdir: conda-recipe
      
    # Optional specs
    conda-build-flags: --no-test
    environment:
      SKIP_LIBDVID_TESTS: 1

  - name: lowtis
    recipe-repo: https://github.com/janelia-flyem/lowtis
    tag: master
    recipe-subdir: conda-recipe

  - name: opencv-nopython
    recipe-repo: https://github.com/stuarteberg/opencv-feedstock
    tag: v2-nopython
    recipe-subdir: recipe
    
  - name: vtk-nopython
    recipe-repo: https://github.com/janelia-flyem/flyem-build-conda
    tag: master
    recipe-subdir: vtk-nopython
      
  - name: neuroproof
    recipe-repo: https://github.com/janelia-flyem/NeuroProof
    tag: master
    recipe-subdir: conda-recipe
      
    # Optional specs
    environment:
      SKIP_NEUROPROOF_TESTS: 0

  - name: neutube-python
    recipe-repo: https://github.com/janelia-flyem/NeuTu
    tag:  develop
    recipe-subdir: recipe-neutube-python

  - name: gsutil-env
    recipe-repo: https://github.com/janelia-flyem/flyem-build-conda
    tag: master
    recipe-subdir: gsutil-env

  - name: dvidsparkservices
    recipe-repo: https://github.com/janelia-flyem/DVIDSparkServices
    tag:  master
    recipe-subdir: conda-recipe

  - name: dvid
    recipe-repo: https://github.com/janelia-flyem/flyem-build-conda
    tag:  master
    recipe-subdir: dvid

  - name: diced
    recipe-repo: https://github.com/janelia-flyem/diced
    tag:  master
    recipe-subdir: conda-recipe

  - name: marching_cubes
    recipe-repo: https://github.com/ilastik/marching_cubes
    tag: master
    recipe-subdir: conda-recipe

  - name: fq-mesh-simplification
    recipe-repo: https://github.com/janelia-flyem/flyem-build-conda
    tag: master
    recipe-subdir: fq-mesh-simplification

  - name: draco
    recipe-repo: https://github.com/janelia-flyem/flyem-build-conda
    tag: master
    recipe-subdir: draco

  - name: vol2mesh
    recipe-repo: https://github.com/janelia-flyem/vol2mesh
    tag: master
    recipe-subdir: conda-recipe

## FIXME: Our recipe for google-api-client hasn't been updated yet.
#  - name: google-api-client
#    recipe-repo: https://github.com/janelia-flyem/flyem-build-conda
#    tag:  master
#    recipe-subdir: google-api-client

## FIXME: No recipe for pyzem yet.
#  - name: pyzem
#    recipe-repo: https://github.com/janelia-flyem/pyzem
#    tag:  master
#    recipe-subdir: conda-recipe

## FIXME: No recipe for flypylib yet.
#  - name: flypylib
#    recipe-repo: https://github.com/janelia-flyem/flypylib
#    tag:  master
#    recipe-subdir: conda-recipe

## FIXME: No recipe for libdvid-utils yet.
#  - name: libdvid-utils
#    recipe-repo: https://github.com/janelia-flyem/libdvid-utils
#    tag:  master
#    recipe-subdir: conda-recipe

## FIXME: NeuTu recipe isn't updated yet.
#  - name: neutu
#    recipe-repo: https://github.com/janelia-flyem/NeuTu
#    tag:  flyem_release
#    recipe-subdir: recipe-neutu

## FIXME: Can we just use the conda-forge package?
#  - name: libjpeg-turbo-feedstock
#    recipe-repo: 
#    tag:  
#    recipe-subdir: 

